data_load:
  cmd: python -m src.pipelines.data_load --config=params.yaml
  deps:
  - path: src/pipelines/data_load.py
    md5: becffe3163b16ed0f588cf39dbb3771d
  params:
    params.yaml:
      base:
        project: dvc_5_demo_project_iris
        model:
          model_name: model.joblib
          models_folder: models
        reports:
          reports_folder: reports
        random_state: 42
      data_load:
        dataset_csv: data/raw/iris.csv
  outs:
  - path: data/raw/iris.csv
    md5: 4224576f0267bf88902f87f0f6200967
featurize:
  cmd: python -m src.pipelines.featurize --config=params.yaml
  deps:
  - path: data/raw/iris.csv
    md5: 4224576f0267bf88902f87f0f6200967
  - path: src/pipelines/featurize.py
    md5: b6d4bbeac1a590fea2f82f68ffbc0c0b
  params:
    params.yaml:
      base:
        project: dvc_5_demo_project_iris
        model:
          model_name: model.joblib
          models_folder: models
        reports:
          reports_folder: reports
        random_state: 42
      data_load:
        dataset_csv: data/raw/iris.csv
      featurize:
        features_path: data/processed/featured_iris.csv
        target_column: target
  outs:
  - path: data/processed/featured_iris.csv
    md5: 5d03a1564b3038fc35a842f8e4bde491
data_split:
  cmd: python src/pipelines/data_split.py --config=params.yaml
  deps:
  - path: data/processed/featured_iris.csv
    md5: 5d03a1564b3038fc35a842f8e4bde491
  - path: src/pipelines/data_split.py
    md5: 8ca42a4e24d56628e47432691ce81039
  params:
    params.yaml:
      base:
        project: dvc_5_demo_project_iris
        model:
          model_name: model.joblib
          models_folder: models
        reports:
          reports_folder: reports
        random_state: 42
      data_split:
        folder: experiments
        train_path: data/processed/train_iris.csv
        test_path: data/processed/test_iris.csv
        test_size: 0.3
      featurize:
        features_path: data/processed/featured_iris.csv
        target_column: target
  outs:
  - path: data/processed/test_iris.csv
    md5: 68bc1ccd3c9c0da876212cde4088d619
  - path: data/processed/train_iris.csv
    md5: a0103fade0a27653e864b612148f5506
train:
  cmd: python -m src.pipelines.train --config=params.yaml
  deps:
  - path: data/processed/train_iris.csv
    md5: a0103fade0a27653e864b612148f5506
  - path: src/pipelines/train.py
    md5: 8534438c36d68422ee318e9c03ccb91a
  params:
    params.yaml:
      base:
        project: dvc_5_demo_project_iris
        model:
          model_name: model.joblib
          models_folder: models
        reports:
          reports_folder: reports
        random_state: 42
      data_split.train_path: data/processed/train_iris.csv
      featurize.target_column: target
      train:
        cv: 3
        estimator_name: logreg
        estimators:
          logreg:
            param_grid:
              C:
              - 0.001
              max_iter:
              - 100
              solver:
              - lbfgs
              multi_class:
              - multinomial
          svm:
            param_grid:
              C:
              - 0.1
              - 1.0
              kernel:
              - rbf
              - linear
              gamma:
              - scale
              degree:
              - 3
              - 5
  outs:
  - path: models/model.joblib
    md5: 9f65cf12502c256ec7f8ebbfab7ef938
